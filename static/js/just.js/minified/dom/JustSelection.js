"use strict";import JustClasses from"./JustClasses.js";import JustDataset from"./JustDataset.js";import JustAttributes from"./JustAttributes.js";export default class JustSelection{constructor(t,{justInstance:e,parent:s}){this.justInstance=e,this.parent=s,void 0===t[Symbol.iterator]?this.elements=[t]:this.elements=Array.from(t);for(const[t,s]of e._privates._plugins)Object.defineProperty(this,t,{value:s})}[Symbol.iterator](){return this.elements[Symbol.iterator]()}[Symbol.asyncIterator](){return function*(){for(const t of this.elements)yield t}.call(this)}select(t){return"string"!=typeof t&&t[Symbol.iterator]?new JustSelection(t,{justInstance:this.justInstance,parent:this}):new JustSelection(this.elements.map(e=>Array.from(e.querySelectorAll(t))).flat(),{justInstance:this.justInstance,parent:this})}back(...t){return this.exit(...t)}exit(){return this.parent}css(...t){return this.style(...t)}style(t){if(console.warn("Warning: Styling of elements is not yet implemented."),void 0!==t)return this}each(...t){return this.forEach(...t)}foreach(...t){return this.forEach(...t)}forEach(t){for(const e of this)t(e);return this}map(t){return this.select(this.elements.map(t))}on(...t){return this.addEventListener(...t)}listen(...t){return this.addEventListener(...t)}addEventListener(t,e){return this.each(s=>s.addEventListener(t,e))}txt(...t){return this.textContent(...t)}text(...t){return this.textContent(...t)}innerText(...t){return this.textContent(...t)}textContent(t){return void 0===t?this.map(t=>t.textContent):this.each(e=>e.textContent=t)}html(...t){return this.innerHTML(...t)}innerHtml(...t){return this.innerHTML(...t)}innerHTML(t){return void 0===t?this.map(t=>t.innerHTML):this.each(e=>e.innerHTML=t)}attr(...t){return this.attribute(...t)}attribute(t,e){return void 0===e?this.attributes.get(t):this.attributes.set(t,e)}get attributes(){return new JustAttributes(this)}get class(){return this.classList}get classes(){return this.classList}get classlist(){return this.classList}get classList(){return new JustClasses(this)}get data(){return this.dataSet}get dataset(){return this.dataSet}get dataSet(){return new JustDataset(this)}append(...t){return 1===t.length&&"string"==typeof t[0]?this.map(t=>t.append(justInstance.render(t))):this.map(e=>e.append(...t))}appendTo(t){t.append(...this.elements)}prepend(...t){return 1===t.length&&"string"==typeof t[0]?this.map(t=>t.prepend(justInstance.render(t))):this.map(e=>e.prepend(...t))}prependTo(t){t.prepend(...this.elements)}copy(...t){return this.clone(...t)}clone(t=!0){return this.select(this.map(e=>e.cloneNode(t)))}detach(){return this.each(t=>t.remove())}delete(...t){return this.remove(...t)}remove(){return this.each(t=>t.remove()),this.elements=[],this}click(){return this.each(t=>t.click())}blur(){return this.each(t=>t.blur())}focus(){return this.each(t=>t.focus())}get value(){return this.elements[0].value}get contenteditable(){return this.contentEditable}get contentEditable(){return this.elements[0].contentEditable}get hidden(){return this.elements[0].hidden}get visible(){return Boolean(this.hidden)===this.hidden?!this.hidden:this.hidden}get offset(){const t=this.elements[0];return{height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,parent:t.offsetParent}}get offsetHeight(){return this.elements.offsetHeight[0]}get offsetLeft(){return this.elements.offsetLeft[0]}get offsetTop(){return this.elements.offsetTop[0]}get offsetWidth(){return this.elements.offsetWidth[0]}get offsetParent(){return this.elements.offsetParent[0]}}