import FetchOptions from"./FetchOptions.js";import justFetch from"./justFetch.js";export default class JustHTTPPost{constructor(t,s,n){this.justInstance=t,this.url=s,this.options=new FetchOptions,Object.assign(this.options,n)}async json(t){Object.assign(this.options.headers,{"Content-Type":"application/json"});const s="string"==typeof t?t:JSON.stringify(t);this.options.body=s;const n=await justFetch(this.url,this.options),o=n.headers.get("content-type")||"";return o.match(/json/)?n.json():o.match(/xml|html/)?this.justInstance.select((new DOMParser).parseFromString(await n.text())):o.match(/plain/)?n.text():n}}